<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>jQuery Iconize Demo</title>
    <meta name="description" content="" />
    <meta name="abstract" content="" />
    <meta name="keywords" content="" />
    <meta name="robots" content="all" />

    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/reset.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/main.css" />

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" ></script>
    <script type="text/javascript" src="jquery.iconize.js" ></script>
    <script type="text/javascript" src="libs/jquery.livequery.js" ></script>

  </head>
  <body>
    <div id="main">
      <h1>jQuery Iconize Plugin - Demos
      <h2>Simple Demo</h2>
      <ul id="demo1" class="demo clearfix">
        <li><a href="#"><img src="images/1.jpg" /></a></li>
        <li><a href="#"><img src="images/2.jpg" /></a></li>
        <li><a href="#"><img src="images/3.jpg" /></a></li>
      </ul>

      <h2>Try it with Live Query Plugin</h2>
      <p>Click the add button to load an picture. The iconize plugin will work when the image is loaded.</p>
      
      <ul id="demo2" class="demo clearfix">
      </ul>

      <button id="add">Add</button>

      <script type="text/javascript">
        var items;
        $('#demo1 li a').iconize({
          iconSrc : 'images/video.png'
        });
        
        $('#demo2 li a').livequery(function() {
          $(this).iconize({
            iconSrc : 'images/video.png'
          });          
        });
        
        $('#add').attr('disabled', '');
        $.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",
          {
            tags: "music",
            tagmode: "any",
            format: "json"
          },
          function(data) {
            items = data.items;
            $('#add').removeAttr('disabled');
          }
        );
        
        $('#add').click(function() {
          if(($('#demo2 li').length == 3) || ($('#demo2 li').length > 3 && ($('#demo2 li').length % 4) == 3) ) {
            $('<li style="float:none; clear:both; display: block;"/>').appendTo('#demo2');
          }
          
          var i = Math.floor(Math.random()*items.length)
          $('<li><a href="' + items[i].link + '"><img src="' + items[i].media.m + '" /></a></li>')
          .appendTo('#demo2');
          items.splice(i, 1);
          if(!items.length){
            $('#add').remove();
          }
        });
      </script>

    </div>
  </body>
</html>

